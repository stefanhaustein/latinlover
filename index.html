<html>
<head>
</head>
<body>
Lateinisches Substantiv: 
<input id="input" value="" name="input"> <button onclick="document.getElementById('output').innerHTML = bestimme(document.getElementById('input').value);">Bestimme</button>
<div id="output"></div>
<script type="text/javascript" src="require.js"></script>

<script>
var bestimme = function() {return "still loading..."};

preload(['closet', 'grammar', 'language', 'dictionary', 'latein'], function() {
  var latein = require("latein");
  var dictionary = require("dictionary");

  var dict = new dictionary.Dictionary(new latein.Latein());

  var req = new XMLHttpRequest();
  req.onload = function() {
    dict.load(this.responseText);   
  };
  req.open("get", "lexikon.txt");
  req.send();

  bestimme = function(s) {
    var options = dict.find(s);
    var result = '';
    if (options) {
      for (var i = 0; i < options.length; i++) {
        var wordForm = options[i];
        result += wordForm.form.toString() + " von " + wordForm.word.definition + '<br>';
      }
      return result;
    } else {
      return 'Unbekannt: "' + s + '"';
    }
  };
});
</script>

</body>
</html>
